"use client"

import React, { createContext, useContext, useState, useEffect } from 'react'

export interface Language {
  code: string
  name: string
  nativeName: string
  flag: string
}

export const supportedLanguages: Language[] = [
  { code: 'en', name: 'English', nativeName: 'English', flag: 'ЁЯЗ║ЁЯЗ╕' },
  { code: 'hi', name: 'Hindi', nativeName: 'рд╣рд┐рдВрджреА', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'or', name: 'Odia', nativeName: 'рмУрмбрм╝рм┐рмЖ', flag: 'ЁЯЯб' },
  { code: 'bn', name: 'Bengali', nativeName: 'ржмрж╛ржВрж▓рж╛', flag: 'ЁЯФ╣' },
  { code: 'te', name: 'Telugu', nativeName: 'р░др▒Жр░▓р▒Бр░Чр▒Б', flag: 'ЁЯФ╢' },
  { code: 'ta', name: 'Tamil', nativeName: 'родрооро┐ро┤рпН', flag: 'ЁЯФ║' },
  { code: 'gu', name: 'Gujarati', nativeName: 'ркЧрлБркЬрк░рк╛ркдрлА', flag: 'ЁЯФ╗' },
  { code: 'mr', name: 'Marathi', nativeName: 'рдорд░рд╛рдареА', flag: 'ЁЯФ╖' },
  { code: 'kn', name: 'Kannada', nativeName: 'р▓Хр▓ир│Нр▓ир▓б', flag: 'ЁЯФ╕' },
  { code: 'ml', name: 'Malayalam', nativeName: 'р┤ор┤▓р┤пр┤╛р┤│р┤В', flag: 'ЁЯФ╣' },
]

interface Translations {
  [key: string]: {
    [key: string]: string
  }
}

const translations: Translations = {
  en: {
    // Common
    'welcome': 'Welcome',
    'home': 'Home',
    'profile': 'Profile',
    'settings': 'Settings',
    'games': 'Games',
    'lessons': 'Lessons',
    'dashboard': 'Dashboard',
    'logout': 'Logout',
    'save': 'Save',
    'cancel': 'Cancel',
    'edit': 'Edit',
    'delete': 'Delete',
    'back': 'Back',
    'next': 'Next',
    'previous': 'Previous',
    'loading': 'Loading...',
    'error': 'Error',
    'success': 'Success',
    
    // Home page
    'hero.title': 'Educational Games Store',
    'hero.subtitle': 'Enhance learning through interactive games and challenges',
    'platform.title': 'Welcome to EduGamers',
    'platform.subtitle': 'Choose your role to access the platform',
    'role.student': 'Student',
    'role.teacher': 'Teacher',
    'role.government': 'Government',
    'role.student.desc': 'Play games, track progress, submit assignments',
    'role.teacher.desc': 'Manage students, create assignments, view analytics',
    'role.government.desc': 'View regional data, track implementation, manage policies',
    'explore.games': 'Explore Games',
    'get.started': 'Get Started',
    'solar.status': 'Solar Powered - Active',
    
    // Profile page
    'profile.title': 'My Profile',
    'profile.edit': 'Edit Profile',
    'profile.save': 'Save Changes',
    'profile.name': 'Full Name',
    'profile.email': 'Email',
    'profile.phone': 'Phone',
    'profile.grade': 'Grade/Class',
    'profile.school': 'School',
    'profile.bio': 'Bio',
    'profile.avatar': 'Profile Picture',
    'profile.upload': 'Upload Photo',
    'profile.stats': 'Statistics',
    'profile.achievements': 'Achievements',
    'profile.subjects': 'Subject Progress',
    'profile.level': 'Level',
    'profile.xp': 'XP',
    'profile.streak': 'Streak',
    'profile.lessons': 'Lessons Completed',
    
    // Games
    'games.play': 'Play Now',
    'games.score': 'Score',
    'games.time': 'Time',
    'games.level': 'Level',
    'games.difficulty': 'Difficulty',
    
    // Language
    'language.select': 'Select Language',
    'language.change': 'Change Language',
  },
  hi: {
    // Common
    'welcome': 'рд╕реНрд╡рд╛рдЧрдд',
    'home': 'рдореБрдЦреНрдп рдкреГрд╖реНрда',
    'profile': 'рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓',
    'settings': 'рд╕реЗрдЯрд┐рдВрдЧреНрд╕',
    'games': 'рдЦреЗрд▓',
    'lessons': 'рдкрд╛рда',
    'dashboard': 'рдбреИрд╢рдмреЛрд░реНрдб',
    'logout': 'рд▓реЙрдЧ рдЖрдЙрдЯ',
    'save': 'рд╕реЗрд╡ рдХрд░реЗрдВ',
    'cancel': 'рд░рджреНрдж рдХрд░реЗрдВ',
    'edit': 'рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ',
    'delete': 'рд╣рдЯрд╛рдПрдВ',
    'back': 'рд╡рд╛рдкрд╕',
    'next': 'рдЕрдЧрд▓рд╛',
    'previous': 'рдкрд┐рдЫрд▓рд╛',
    'loading': 'рд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ...',
    'error': 'рддреНрд░реБрдЯрд┐',
    'success': 'рд╕рдлрд▓рддрд╛',
    
    // Home page
    'hero.title': 'рд╢реИрдХреНрд╖рдгрд┐рдХ рдЦреЗрд▓ рд╕реНрдЯреЛрд░',
    'hero.subtitle': 'рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдЧреЗрдореНрд╕ рдФрд░ рдЪреБрдиреМрддрд┐рдпреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реАрдЦрдиреЗ рдХреЛ рдмрдврд╝рд╛рд╡рд╛ рджреЗрдВ',
    'platform.title': 'EduGamers рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ',
    'platform.subtitle': 'рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА рднреВрдорд┐рдХрд╛ рдЪреБрдиреЗрдВ',
    'role.student': 'рдЫрд╛рддреНрд░',
    'role.teacher': 'рд╢рд┐рдХреНрд╖рдХ',
    'role.government': 'рд╕рд░рдХрд╛рд░',
    'role.student.desc': 'рдЦреЗрд▓ рдЦреЗрд▓реЗрдВ, рдкреНрд░рдЧрддрд┐ рдЯреНрд░реИрдХ рдХрд░реЗрдВ, рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдЬрдорд╛ рдХрд░реЗрдВ',
    'role.teacher.desc': 'рдЫрд╛рддреНрд░реЛрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░реЗрдВ, рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдмрдирд╛рдПрдВ, рд╡рд┐рд╢реНрд▓реЗрд╖рдг рджреЗрдЦреЗрдВ',
    'role.government.desc': 'рдХреНрд╖реЗрддреНрд░реАрдп рдбреЗрдЯрд╛ рджреЗрдЦреЗрдВ, рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЯреНрд░реИрдХ рдХрд░реЗрдВ, рдиреАрддрд┐рдпреЛрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░реЗрдВ',
    'explore.games': 'рдЧреЗрдореНрд╕ рдПрдХреНрд╕рдкреНрд▓реЛрд░ рдХрд░реЗрдВ',
    'get.started': 'рд╢реБрд░реБрдЖрдд рдХрд░реЗрдВ',
    'solar.status': 'рд╕реМрд░ рдКрд░реНрдЬрд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд - рд╕рдХреНрд░рд┐рдп',
    
    // Profile page
    'profile.title': 'рдореЗрд░реА рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓',
    'profile.edit': 'рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ',
    'profile.save': 'рдкрд░рд┐рд╡рд░реНрддрди рд╕реЗрд╡ рдХрд░реЗрдВ',
    'profile.name': 'рдкреВрд░рд╛ рдирд╛рдо',
    'profile.email': 'рдИрдореЗрд▓',
    'profile.phone': 'рдлреЛрди',
    'profile.grade': 'рдЧреНрд░реЗрдб/рдХрдХреНрд╖рд╛',
    'profile.school': 'рд╕реНрдХреВрд▓',
    'profile.bio': 'рдкрд░рд┐рдЪрдп',
    'profile.avatar': 'рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рддрд╕реНрд╡реАрд░',
    'profile.upload': 'рдлреЛрдЯреЛ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ',
    'profile.stats': 'рдЖрдВрдХрдбрд╝реЗ',
    'profile.achievements': 'рдЙрдкрд▓рдмреНрдзрд┐рдпрд╛рдВ',
    'profile.subjects': 'рд╡рд┐рд╖рдп рдкреНрд░рдЧрддрд┐',
    'profile.level': 'рд╕реНрддрд░',
    'profile.xp': 'XP',
    'profile.streak': 'рд╕реНрдЯреНрд░реАрдХ',
    'profile.lessons': 'рдкреВрд░реНрдг рдкрд╛рда',
    
    // Games
    'games.play': 'рдЕрднреА рдЦреЗрд▓реЗрдВ',
    'games.score': 'рд╕реНрдХреЛрд░',
    'games.time': 'рд╕рдордп',
    'games.level': 'рд╕реНрддрд░',
    'games.difficulty': 'рдХрдард┐рдирд╛рдИ',
    
    // Language
    'language.select': 'рднрд╛рд╖рд╛ рдЪреБрдиреЗрдВ',
    'language.change': 'рднрд╛рд╖рд╛ рдмрджрд▓реЗрдВ',
  },
  or: {
    // Common
    'welcome': 'рм╕рнНрн▒рм╛рмЧрмд',
    'home': 'рморнБрмЦрнНрнЯ рмкрнГрм╖рнНрмарм╛',
    'profile': 'рмкрнНрм░рнЛрмлрм╛рмЗрм▓рнН',
    'settings': 'рм╕рнЗрмЯрм┐рмВ',
    'games': 'рмЦрнЗрм│',
    'lessons': 'рмкрм╛рма',
    'dashboard': 'рмбрнНрнЯрм╛рм╕рммрнЛрм░рнНрмб',
    'logout': 'рм▓рмЧрнН рмЖрмЙрмЯрнН',
    'save': 'рм╕рнЗрмнрнН рмХрм░рмирнНрмдрнБ',
    'cancel': 'рммрм╛рмдрм┐рм▓рнН рмХрм░рмирнНрмдрнБ',
    'edit': 'рм╕рмВрмкрм╛рмжрмирм╛ рмХрм░рмирнНрмдрнБ',
    'delete': 'рмбрм┐рм▓рм┐рмЯрнН рмХрм░рмирнНрмдрнБ',
    'back': 'рмкрмЫрмХрнБ',
    'next': 'рмкрм░рммрм░рнНрмдрнНрмдрнА',
    'previous': 'рмкрнВрм░рнНрммрммрм░рнНрмдрнНрмдрнА',
    'loading': 'рм▓рнЛрмбрм╝рм┐рмЩрнНрмЧ...',
    'error': 'рмдрнНрм░рнБрмЯрм┐',
    'success': 'рм╕рмлрм│рмдрм╛',
    'view': 'рмжрнЗрмЦрмирнНрмдрнБ',
    'create': 'рмдрм┐рмЖрм░рм┐ рмХрм░рмирнНрмдрнБ',
    'update': 'рмЕрмкрмбрнЗрмЯрнН рмХрм░рмирнНрмдрнБ',
    'search': 'рмЦрнЛрмЬрмирнНрмдрнБ',
    'filter': 'рмлрм┐рм▓рнНрмЯрм░рнН',
    'export': 'рмПрмХрнНрм╕рмкрнЛрм░рнНрмЯ рмХрм░рмирнНрмдрнБ',
    'import': 'рмЗрморнНрмкрнЛрм░рнНрмЯ рмХрм░рмирнНрмдрнБ',
    'download': 'рмбрм╛рмЙрмирм▓рнЛрмбрнН рмХрм░рмирнНрмдрнБ',
    'upload': 'рмЕрмкрм▓рнЛрмбрнН рмХрм░рмирнНрмдрнБ',
    'submit': 'рмЬрморм╛ рмХрм░рмирнНрмдрнБ',
    'confirm': 'рмирм┐рм╢рнНрмЪрм┐рмд рмХрм░рмирнНрмдрнБ',
    'close': 'рммрмирнНрмж рмХрм░рмирнНрмдрнБ',
    'open': 'рмЦрнЛрм▓рмирнНрмдрнБ',
    'start': 'рмЖрм░рморнНрмн рмХрм░рмирнНрмдрнБ',
    'stop': 'рммрмирнНрмж рмХрм░рмирнНрмдрнБ',
    'pause': 'рммрм┐рм░рм╛рмо',
    'resume': 'рмкрнБрмирмГрмЖрм░рморнНрмн',
    'reset': 'рм░рм┐рм╕рнЗрмЯрнН рмХрм░рмирнНрмдрнБ',
    'refresh': 'рм╕рмдрнЗрмЬ рмХрм░рмирнНрмдрнБ',
    'copy': 'рмХрмкрм┐ рмХрм░рмирнНрмдрнБ',
    'share': 'рм╕рнЗрнЯрм╛рм░ рмХрм░рмирнНрмдрнБ',
    'help': 'рм╕рм╛рм╣рм╛рмпрнНрнЯ',
    'about': 'рммрм┐рм╖рнЯрм░рнЗ',
    'contact': 'рмпрнЛрмЧрм╛рмпрнЛрмЧ',
    'feedback': 'рмормдрм╛рмормд',
    'report': 'рм░рм┐рмкрнЛрм░рнНрмЯ',
    'status': 'рмЕрммрм╕рнНрмерм╛',
    'active': 'рм╕рмХрнНрм░рм┐рнЯ',
    'inactive': 'рмирм┐рм╖рнНрмХрнНрм░рм┐рнЯ',
    'completed': 'рм╕рморнНрмкрнВрм░рнНрмгрнНрмг',
    'pending': 'рммрм┐рмЪрм╛рм░рм╛рмзрнАрми',
    'progress': 'рмкрнНрм░рмЧрмдрм┐',
    'performance': 'рмХрм╛рм░рнНрмпрнНрнЯрмжрмХрнНрм╖рмдрм╛',
    'analytics': 'рммрм┐рм╢рнНрм│рнЗрм╖рмг',
    'insights': 'рмЕрмирнНрмдрм░рнНрмжрнГрм╖рнНрмЯрм┐',
    'overview': 'рм╕рм╛рм░рм╛рмВрм╢',
    'details': 'рммрм┐рм╕рнНрмдрм╛рм░',
    'summary': 'рм╕рмВрмХрнНрм╖рм┐рмкрнНрмд рммрм┐рммрм░рмгрнА',
    'total': 'рм╕рморнБрмжрм╛рнЯ',
    'average': 'рм╣рм╛рм░рм╛рм╣рм╛рм░рм┐',
    'maximum': 'рм╕рм░рнНрммрм╛рмзрм┐рмХ',
    'minimum': 'рм╕рм░рнНрммрмирм┐рморнНрми',
    'count': 'рм╕рмВрмЦрнНрнЯрм╛',
    'percentage': 'рм╢рмдрмХрм░рм╛',
    'ratio': 'рмЕрмирнБрмкрм╛рмд',
    'trend': 'рмзрм╛рм░рм╛',
    'change': 'рмкрм░рм┐рммрм░рнНрмдрнНрмдрми',
    'increase': 'рммрнГрмжрнНрмзрм┐',
    'decrease': 'рм╣рнНрм░рм╛рм╕',
    'improvement': 'рмЙрмирнНрмирмдрм┐',
    'decline': 'рмЕрммрмирмдрм┐',
    'growth': 'рммрнГрмжрнНрмзрм┐',
    'target': 'рм▓рмХрнНрм╖рнНрнЯ',
    'goal': 'рмЙрмжрнНрмжрнЗрм╢рнНрнЯ',
    'achievement': 'рм╕рмлрм│рмдрм╛',
    'reward': 'рмкрнБрм░рм╕рнНрмХрм╛рм░',
    'badge': 'рммрнНрнЯрм╛рмЬрнН',
    'certificate': 'рмкрнНрм░рморм╛рмгрмкрмдрнНрм░',
    'points': 'рмкрмПрмгрнНрмЯ',
    'rank': 'рмкрмжрммрнА',
    'position': 'рм╕рнНрмерм╛рми',
    'leaderboard': 'рм▓рм┐рмбрм░рммрнЛрм░рнНрмб',
    
    // Home page
    'hero.title': 'рм╢рм┐рмХрнНрм╖рм╛рмЧрмд рмЦрнЗрм│ рм╖рнНрмЯрнЛрм░рнН',
    'hero.subtitle': 'рмЗрмгрнНрмЯрм░рм╛рмХрнНрмЯрм┐рмнрнН рмЧрнЗрморнН рмПрммрмВ рмЪрнНрнЯрм╛рм▓рнЗрмЮрнНрмЬ рморм╛рмзрнНрнЯрморм░рнЗ рм╢рм┐рмХрнНрм╖рм╛рмХрнБ рммрнГрмжрнНрмзрм┐ рмХрм░рмирнНрмдрнБ',
    'platform.title': 'EduGamers рм░рнЗ рмЖрмкрмгрмЩрнНрмХрнБ рм╕рнНрн▒рм╛рмЧрмд',
    'platform.subtitle': 'рмкрнНрм▓рм╛рмЯрмлрм░рнНрмо рмЖрмХрнНрм╕рнЗрм╕рнН рмХрм░рм┐рммрм╛рмХрнБ рмЖрмкрмгрмЩрнНрмХрм░ рмнрнВрморм┐рмХрм╛ рммрм╛рмЫрмирнНрмдрнБ',
    'role.student': 'рмЫрм╛рмдрнНрм░',
    'role.teacher': 'рм╢рм┐рмХрнНрм╖рмХ',
    'role.government': 'рм╕рм░рмХрм╛рм░',
    'role.student.desc': 'рмЦрнЗрм│ рмЦрнЗрм│рмирнНрмдрнБ, рмкрнНрм░рмЧрмдрм┐ рмЯрнНрм░рм╛рмХрнН рмХрм░рмирнНрмдрнБ, рмЖрм╕рм╛рмЗрмирморнЗрмгрнНрмЯ рмЬрморм╛ рмХрм░рмирнНрмдрнБ',
    'role.teacher.desc': 'рмЫрм╛рмдрнНрм░рморм╛рмирмЩрнНрмХрнБ рмкрм░рм┐рмЪрм╛рм│рмирм╛ рмХрм░рмирнНрмдрнБ, рмЖрм╕рм╛рмЗрмирморнЗрмгрнНрмЯ рмдрм┐рмЖрм░рм┐ рмХрм░рмирнНрмдрнБ, рммрм┐рм╢рнНрм│рнЗрм╖рмг рмжрнЗрмЦрмирнНрмдрнБ',
    'role.government.desc': 'рмЖрмЮрнНрмЪрм│рм┐рмХ рмдрмернНрнЯ рмжрнЗрмЦрмирнНрмдрнБ, рмХрм╛рм░рнНрмпрнНрнЯрмХрм╛рм░рм┐рмдрм╛ рмЯрнНрм░рм╛рмХрнН рмХрм░рмирнНрмдрнБ, рмирнАрмдрм┐ рмкрм░рм┐рмЪрм╛рм│рмирм╛ рмХрм░рмирнНрмдрнБ',
    'explore.games': 'рмЧрнЗрморнНрм╕ рмПрмХрнНрм╕рмкрнНрм▓рнЛрм░рнН рмХрм░рмирнНрмдрнБ',
    'get.started': 'рмЖрм░рморнНрмн рмХрм░рмирнНрмдрнБ',
    'solar.status': 'рм╕рнМрм░ рм╢рмХрнНрмдрм┐ рмЪрм╛рм│рм┐рмд - рм╕рмХрнНрм░рм┐рнЯ',
    
    // Dashboard & Navigation
    'nav.home': 'рморнБрмЦрнНрнЯ рмкрнГрм╖рнНрмарм╛',
    'nav.dashboard': 'рмбрнНрнЯрм╛рм╕рммрнЛрм░рнНрмб',
    'nav.classes': 'рмХрнНрм▓рм╛рм╕рнН рмкрм░рм┐рмЪрм╛рм│рмирм╛',
    'nav.students': 'рмЫрм╛рмдрнНрм░ рмкрм░рм┐рмЪрм╛рм│рмирм╛',
    'nav.content': 'рммрм┐рм╖рнЯрммрм╕рнНрмдрнБ рмПрммрмВ рмЖрм╕рм╛рмЗрмирморнЗрмгрнНрмЯ',
    'nav.analytics': 'рммрм┐рм╢рнНрм│рнЗрм╖рмг рмПрммрмВ рм░рм┐рмкрнЛрм░рнНрмЯ',
    'nav.support': 'рм╕рм╣рм╛рнЯрмдрм╛ рмПрммрмВ рм╕рнЗрмЯрм┐рмВ',
    'nav.users': 'рнЯрнБрмЬрм░рнН рмкрм░рм┐рмЪрм╛рм│рмирм╛',
    'nav.system': 'рм╕рм┐рм╖рнНрмЯрморнН рм╕рнЗрмЯрм┐рмВ',
    'nav.management': 'рмкрм░рм┐рмЪрм╛рм│рмирм╛',
    'nav.oversight': 'рмдрмжрм╛рм░рмЦ',
    
    // Dashboard Cards & Metrics
    'metrics.active.users': 'рм╕рмХрнНрм░рм┐рнЯ рмЙрмкрмпрнЛрмЧрмХрм╛рм░рнА',
    'metrics.daily.active': 'рмжрнИрмирм┐рмХ рм╕рмХрнНрм░рм┐рнЯ рмЙрмкрмпрнЛрмЧрмХрм╛рм░рнА',
    'metrics.lessons.completed': 'рм╕рморнНрмкрнВрм░рнНрмгрнНрмг рмкрм╛рма',
    'metrics.avg.session': 'рм╣рм╛рм░рм╛рм╣рм╛рм░рм┐ рм╕рнЗрм╕рмирнН рм╕рморнЯ',
    'metrics.platform.growth': 'рмкрнНрм▓рм╛рмЯрмлрм░рнНрмо рммрнГрмжрнНрмзрм┐',
    'metrics.performance.avg': 'рм╣рм╛рм░рм╛рм╣рм╛рм░рм┐ рмХрм╛рм░рнНрмпрнНрнЯрмжрмХрнНрм╖рмдрм╛',
    'metrics.attendance': 'рмЙрмкрм╕рнНрмерм┐рмдрм┐',
    'metrics.engagement': 'рм╕рмВрмпрнЛрмЧ',
    'metrics.completion.rate': 'рм╕рморм╛рмкрнНрмдрм┐ рм╣рм╛рм░',
    'metrics.success.rate': 'рм╕рмлрм│рмдрм╛ рм╣рм╛рм░',
    'metrics.class.average': 'рмХрнНрм▓рм╛рм╕рнН рм╣рм╛рм░рм╛рм╣рм╛рм░рм┐',
    'metrics.student.count': 'рмЫрм╛рмдрнНрм░ рм╕рмВрмЦрнНрнЯрм╛',
    'metrics.assignment.pending': 'рммрм┐рмЪрм╛рм░рм╛рмзрнАрми рмЖрм╕рм╛рмЗрмирморнЗрмгрнНрмЯ',
    'metrics.reviews.pending': 'рммрм┐рмЪрм╛рм░рм╛рмзрнАрми рм╕рморнАрмХрнНрм╖рм╛',
    'metrics.content.views': 'рммрм┐рм╖рнЯрммрм╕рнНрмдрнБ рмжрнЗрмЦрм╛рмпрм╛рмЗрмЫрм┐',
    'metrics.downloads.total': 'рморнЛрмЯ рмбрм╛рмЙрмирм▓рнЛрмбрнН',
    
    // Time & Date
    'time.today': 'рмЖрмЬрм┐',
    'time.yesterday': 'рмЧрмдрмХрм╛рм▓рм┐',
    'time.week': 'рм╕рмкрнНрмдрм╛рм╣',
    'time.month': 'рморм╛рм╕',
    'time.year': 'рммрм░рнНрм╖',
    'time.daily': 'рмжрнИрмирм┐рмХ',
    'time.weekly': 'рм╕рм╛рмкрнНрмдрм╛рм╣рм┐рмХ',
    'time.monthly': 'рморм╛рм╕рм┐рмХ',
    'time.yearly': 'рммрм╛рм░рнНрм╖рм┐рмХ',
    'time.last.week': 'рмЧрмд рм╕рмкрнНрмдрм╛рм╣',
    'time.last.month': 'рмЧрмд рморм╛рм╕',
    'time.this.week': 'рмПрм╣рм┐ рм╕рмкрнНрмдрм╛рм╣',
    'time.this.month': 'рмПрм╣рм┐ рморм╛рм╕',
    
    // Analytics & Reports  
    'analytics.title': 'рммрм┐рм╢рнНрм│рнЗрм╖рмг рмПрммрмВ рм░рм┐рмкрнЛрм░рнНрмЯ',
    'analytics.overview': 'рммрм┐рм╢рнНрм│рнЗрм╖рмг рм╕рм╛рм░рм╛рмВрм╢',
    'analytics.performance': 'рмХрм╛рм░рнНрмпрнНрнЯрмжрмХрнНрм╖рмдрм╛ рммрм┐рм╢рнНрм│рнЗрм╖рмг',
    'analytics.engagement': 'рм╕рмВрмпрнЛрмЧ рммрм┐рм╢рнНрм│рнЗрм╖рмг',
    'analytics.insights': 'рммрм┐рм╢рнНрм│рнЗрм╖рмг рмЕрмирнНрмдрм░рнНрмжрнГрм╖рнНрмЯрм┐',
    'analytics.reports': 'рм░рм┐рмкрнЛрм░рнНрмЯрм╕рморнВрм╣',
    'analytics.export.report': 'рм░рм┐рмкрнЛрм░рнНрмЯ рмПрмХрнНрм╕рмкрнЛрм░рнНрмЯ рмХрм░рмирнНрмдрнБ',
    'analytics.generate.report': 'рм░рм┐рмкрнЛрм░рнНрмЯ рмдрм┐рмЖрм░рм┐ рмХрм░рмирнНрмдрнБ',
    'analytics.custom.report': 'рмХрм╕рнНрмЯрмо рм░рм┐рмкрнЛрм░рнНрмЯ',
    'analytics.timeframe': 'рм╕рморнЯрм╕рнАрморм╛',
    'analytics.all.subjects': 'рм╕рммрнБ рммрм┐рм╖рнЯ',
    
    // Settings & Configuration
    'settings.general': 'рм╕рм╛рмзрм╛рм░рмг рм╕рнЗрмЯрм┐рмВ',
    'settings.account': 'рмЦрм╛рмдрм╛ рм╕рнЗрмЯрм┐рмВ',
    'settings.privacy': 'рмЧрнЛрмкрмирнАрнЯрмдрм╛ рм╕рнЗрмЯрм┐рмВ',
    'settings.notifications': 'рмирнЛрмЯрм┐рмлрм┐рмХрнЗрм╕рмирнН рм╕рнЗрмЯрм┐рмВ',
    'settings.appearance': 'рмжрнГрм╢рнНрнЯрморм╛рми рм╕рнЗрмЯрм┐рмВ',
    'settings.learning': 'рм╢рм┐рмХрнНрм╖рм╛ рмкрм╕рмирнНрмж',
    'settings.audio': 'рмЕрмбрм┐рмУ рм╕рнЗрмЯрм┐рмВ',
    'settings.system': 'рм╕рм┐рм╖рнНрмЯрморнН рм╕рнЗрмЯрм┐рмВ',
    'settings.security': 'рм╕рнБрм░рмХрнНрм╖рм╛ рм╕рнЗрмЯрм┐рмВ',
    'settings.dark.mode': 'рмбрм╛рм░рнНрмХ рморнЛрмбрнН',
    'settings.sound.effects': 'рм╕рм╛рмЙрмгрнНрмб рмПрмлрнЗрмХрнНрмЯ',
    'settings.background.music': 'рммрнНрнЯрм╛рмХрмЧрнНрм░рм╛рмЙрмгрнНрмб рм╕рмЩрнНрмЧрнАрмд',
    'settings.difficulty.level': 'рмХрмарм┐рмирмдрм╛ рм╕рнНрмдрм░',
    'settings.email.notifications': 'рмЗрморнЗрм▓рнН рмирнЛрмЯрм┐рмлрм┐рмХрнЗрм╕рмирнН',
    'settings.push.notifications': 'рмкрнБрм╕рнН рмирнЛрмЯрм┐рмлрм┐рмХрнЗрм╕рмирнН',
    'settings.share.progress': 'рмкрнНрм░рмЧрмдрм┐ рм╕рнЗрнЯрм╛рм░ рмХрм░рмирнНрмдрнБ',
    'settings.data.collection': 'рмбрм╛рмЯрм╛ рм╕рмВрмЧрнНрм░рм╣',
    
    // Games & Activities
    'games.categories': 'рмЦрнЗрм│ рммрм┐рмнрм╛рмЧ',
    'games.difficulty.beginner': 'рмЖрм░рморнНрмнрм┐рмХ',
    'games.difficulty.intermediate': 'рмормзрнНрнЯрмо',
    'games.difficulty.advanced': 'рмЙрмирнНрмирмд',
    'games.difficulty.expert': 'рммрм┐рм╢рнЗрм╖рмЬрнНрмЮ',
    'games.start.game': 'рмЦрнЗрм│ рмЖрм░рморнНрмн рмХрм░рмирнНрмдрнБ',
    'games.best.score': 'рм╕рм░рнНрммрнЛрмдрнНрмХрнГрм╖рнНрмЯ рм╕рнНрмХрнЛрм░рнН',
    'games.high.score': 'рмЙрмЪрнНрмЪ рм╕рнНрмХрнЛрм░рнН',
    'games.time.limit': 'рм╕рморнЯ рм╕рнАрморм╛',
    'games.xp.reward': 'XP рмкрнБрм░рм╕рнНрмХрм╛рм░',
    'games.multiplayer': 'рммрм╣рнБ рмЦрнЗрм│рм╛рм│рнА',
    'games.single.player': 'рмПрмХрм▓ рмЦрнЗрм│рм╛рм│рнА',
    'games.collaborative': 'рм╕рм╣рмпрнЛрмЧрм╛рмдрнНрмормХ',
    'games.competitive': 'рмкрнНрм░рмдрм┐рмпрнЛрмЧрм┐рмдрм╛рморнВрм│рмХ',
    'games.features': 'рмЦрнЗрм│ рммрм┐рм╢рнЗрм╖рмдрнНрн▒',
    'games.unlocked': 'рмЕрмирм▓рмХрнН рм╣рнЛрмЗрмЫрм┐',
    'games.locked': 'рм▓рмХрнН рмЕрмЫрм┐',
    'games.completed': 'рм╕рморнНрмкрнВрм░рнНрмгрнНрмг рм╣рнЛрмЗрмЫрм┐',
    'games.in.progress': 'рмЪрм╛рм▓рнБ рмЕрмЫрм┐',
    'games.not.started': 'рмЖрм░рморнНрмн рм╣рнЛрмЗрмирм╛рм╣рм┐рмБ',
    
    // Subjects & Learning
    'subjects.mathematics': 'рмЧрмгрм┐рмд',
    'subjects.science': 'рммрм┐рмЬрнНрмЮрм╛рми',
    'subjects.english': 'рмЗрмВрм░рм╛рмЬрнА',
    'subjects.history': 'рмЗрмдрм┐рм╣рм╛рм╕',
    'subjects.geography': 'рмнрнВрмЧрнЛрм│',
    'subjects.physics': 'рмнрнМрмдрм┐рмХ рммрм┐рмЬрнНрмЮрм╛рми',
    'subjects.chemistry': 'рм░рм╕рм╛рнЯрми рммрм┐рмЬрнНрмЮрм╛рми',
    'subjects.biology': 'рмЬрнАрмм рммрм┐рмЬрнНрмЮрм╛рми',
    'subjects.social.studies': 'рм╕рм╛рморм╛рмЬрм┐рмХ рмЕрмзрнНрнЯрнЯрми',
    'subjects.literature': 'рм╕рм╛рм╣рм┐рмдрнНрнЯ',
    'subjects.language.arts': 'рмнрм╛рм╖рм╛ рмХрм│рм╛',
    'subjects.computer.science': 'рмХрморнНрмкрм┐рмЙрмЯрм░ рммрм┐рмЬрнНрмЮрм╛рми',
    
    // Dashboard Messages
    'message.welcome.back': 'рмкрнБрмирм░рм╛рнЯ рм╕рнНрн▒рм╛рмЧрмд',
    'message.good.morning': 'рм╕рнБрмкрнНрм░рмнрм╛рмд',
    'message.good.afternoon': 'рмирморм╕рнНрмХрм╛рм░',
    'message.good.evening': 'рмирморм╕рнНрмХрм╛рм░',
    'message.congratulations': 'рмЕрмнрм┐рмирмирнНрмжрми',
    'message.well.done': 'рммрм╣рнБрмд рмнрм╛рм▓',
    'message.keep.going': 'рмЖрмЧрмХрнБ рммрмврм╝рмирнНрмдрнБ',
    'message.great.job': 'рммрм╣рнБрмд рмнрм╛рм▓ рмХрм╛рмо',
    'message.loading.data': 'рмбрм╛рмЯрм╛ рм▓рнЛрмбрнН рм╣рнЗрмЙрмЫрм┐...',
    'message.no.data': 'рмХрнЛрмгрм╕рм┐ рмбрм╛рмЯрм╛ рмирм╛рм╣рм┐рмБ',
    'message.error.occurred': 'рмПрмХ рмдрнНрм░рнБрмЯрм┐ рмШрмЯрм┐рмм',
    'message.try.again.later': 'рмжрнЯрм╛рмХрм░рм┐ рмкрнБрмирнГ рмЪрнЗрм╖рнНрмЯрм╛ рмХрм░рмирнНрмдрнБ',
    'message.saved.successfully': 'рм╕рмлрм│рмдрм╛рм░рнЗ рм╕рнЗрмнрнН рм╣рнЗрм▓рм╛',
    'message.changes.saved': 'рмкрм░рм┐рммрм░рнНрмдрнНрмдрми рм╕рнЗрмнрнН рм╣рнЗрм▓рм╛',
    'message.operation.successful': 'рмХрм╛рм░рнНрмпрнНрнЯ рм╕рмлрм│ рм╣рнЗрмм',
  },
}

interface LanguageContextType {
  currentLanguage: Language
  setLanguage: (language: Language) => void
  t: (key: string) => string
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined)

export function LanguageProvider({ children }: { children: React.ReactNode }) {
  const [currentLanguage, setCurrentLanguage] = useState<Language>(supportedLanguages[0])
  const [isInitialized, setIsInitialized] = useState(false)

  useEffect(() => {
    // Load saved language from localStorage only on client side
    if (typeof window !== 'undefined') {
      const savedLanguage = localStorage.getItem('selectedLanguage')
      if (savedLanguage) {
        const language = supportedLanguages.find(lang => lang.code === savedLanguage)
        if (language) {
          setCurrentLanguage(language)
        }
      }
    }
    setIsInitialized(true)
  }, [])

  const setLanguage = (language: Language) => {
    setCurrentLanguage(language)
    // Only save to localStorage if we're on the client side
    if (typeof window !== 'undefined') {
      localStorage.setItem('selectedLanguage', language.code)
    }
  }

  const t = (key: string): string => {
    const languageTranslations = translations[currentLanguage.code]
    return languageTranslations?.[key] || translations.en[key] || key
  }

  return (
    <LanguageContext.Provider value={{ currentLanguage, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  )
}

export function useLanguage() {
  const context = useContext(LanguageContext)
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider')
  }
  return context
}